# Import Aspect bazelrc presets
import %workspace%/.aspect/bazelrc/bazel7.bazelrc
import %workspace%/.aspect/bazelrc/convenience.bazelrc
import %workspace%/.aspect/bazelrc/correctness.bazelrc
import %workspace%/.aspect/bazelrc/debug.bazelrc
import %workspace%/.aspect/bazelrc/javascript.bazelrc
import %workspace%/.aspect/bazelrc/performance.bazelrc

common --incompatible_enable_proto_toolchain_resolution

build:linux --platforms=//platforms:linux_amd64
build:macos --platforms=//platforms:darwin_arm64_platform

# proto
build --incompatible_enable_proto_toolchain_resolution

# CI configuration
build:ci --stamp
build:ci --workspace_status_command=tools/workspace_status.sh

test:ci --stamp

# BuildBarn remote cache and execution (commented out - service not accessible)
# build:remote --remote_cache=grpc://buildbarn.goyangi.io:8980
# build:remote --remote_executor=grpc://buildbarn.goyangi.io:8980
# build:remote --remote_timeout=10m
# build:remote --jobs=50

try-import %workspace%/.aspect/bazelrc/user.bazelrc
